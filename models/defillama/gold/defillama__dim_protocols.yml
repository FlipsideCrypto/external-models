version: 2
models:
  - name: defillama__dim_protocols
    description: This table contains dimensional information about the protocols listed on Defillama.

    columns:
      - name: PROTOCOL_ID
        description: Unique identifier for the protocol.
      - name: PROTOCOL_SLUG
        description: Slug for the protocol.
      - name: PROTOCOL
        description: Name of the protocol.
      - name: ADDRESS
        description: Contract address of the protocol.
      - name: SYMBOL
        description: Symbol for the protocol.
      - name: DESCRIPTION
        description: Description of the protocol.
      - name: CHAIN
        description: Chain the protocol is operating on.
      - name: CHAINS
        description: Chains the protocol is available on.
      - name: CATEGORY
        description: Category the protocol belongs to.
      - name: NUM_AUDITS
        description: Number of audits the protocol has undergone.
      - name: TWITTER
        description: Twitter handle of the protocol.
        description: Number of audits the protocol has undergone.
      - name: AUDIT_NOTE
        description: Notes on the audits of the protocol.
      - name: TVL
        description: Total value locked of the protocol as of the last run.
      - name: CHAIN_TVLS
        description: Total value locked of the protocol on each chain as of the last run.
      - name: MODIFIED_TIMESTAMP
        tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_in_type_list:
              column_type_list:
                - TIMESTAMP_NTZ
          - dbt_expectations.expect_row_values_to_have_recent_data:
              datepart: day
              interval: 2
      - name: INSERTED_TIMESTAMP
        tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_in_type_list:
              column_type_list:
                - TIMESTAMP_NTZ
          - dbt_expectations.expect_row_values_to_have_recent_data:
              datepart: day
              interval: 2